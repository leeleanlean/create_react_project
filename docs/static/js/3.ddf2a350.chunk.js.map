{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","common/fetch.js","data/api/Home/index.js","views/Home/Index/index.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","request","url","options","newOptions","credentials","METHOD","method","toUpperCase","formData","FormData","k","params","append","body","i","replace","Promise","resolve","reject","fetch","then","res","status","text","json","catch","err","Home","inject","observer","this","props","Common","userInfo","age","name","console","log","Fetch","process","className","React","Component"],"mappings":"+LAAe,SAASA,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,E,4NCZM,SAASQ,EAASC,EAAKC,GAEpC,IASMC,E,2UAAU,IATO,CAOrBC,YAAa,WAEC,GAA2BF,GAOrCG,EAASH,EAAQI,QAAUJ,EAAQI,OAAOC,cAChD,GAAe,SAAXF,GAAgC,QAAXA,EAAkB,CACzC,IAAIG,EAAW,IAAIC,SACnB,IAAK,IAAMC,KAAKP,EAAWQ,OACzBH,EAASI,OAAOF,EAAGP,EAAWQ,OAAOD,IAEvCP,EAAWU,KAAOL,MACb,CACL,IAAK,IAAMM,KAAKX,EAAWQ,OACzBV,GAAG,WAAQa,EAAR,YAAaX,EAAWQ,OAAOG,IAEpCb,EAAMA,EAAIc,QAAQ,IAAK,KAIzB,OAAO,IAAIC,QAAQ,SAACC,EAASC,GAC3BC,MAAMlB,EAAKE,GAAYiB,KAAK,SAAAC,GAC1B,MAAe,WAAXhB,GAAsC,MAAfgB,EAAIC,OACtBL,EAAQI,EAAIE,QAEdN,EAAQI,EAAIG,UAClBC,MAAM,SAAAC,GACP,OAAOR,EAAOQ,O,MCtCb,I,ECODC,EAFLC,YAAO,S,GACPC,Y,mLAOY,IDbYlB,ECab,EACcmB,KAAKC,MAAMC,OAAOC,SAAhCC,EADA,EACAA,IAAKC,EADL,EACKA,KAUb,OATAC,QAAQC,IAAI,gBAAiBF,EAAMD,IDfdvB,ECgBX,CACRwB,KAAM,OACND,IAAK,IDjBF,IAAIlB,QAAQ,SAACC,EAASC,GAC3BoB,EAAM,GAAD,OAAIC,qBAAJ,kBAAoD,CACvD5B,OAAQA,IACPS,KAAK,SAAAC,GACNJ,EAAQI,KACPI,MAAM,SAAAC,GACPR,EAAOQ,QCYNN,KAAK,SAAAC,GACNe,QAAQC,IAAIhB,KACXI,MAAM,SAAAC,GACPU,QAAQC,IAAIX,KAGZ,yBAAKc,UAAU,QACb,4CACA,yBAAKA,UAAU,WAAf,+B,GApBWC,IAAMC,a,MA2BVf","file":"static/js/3.ddf2a350.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function request (url, options) {\n  // 默认参数\n  const defaultOptions = {\n    /**\n     * credentials\n     * [omit] 从不发送cookies.\n     * [same-origin] 只有当URL与响应脚本同源才发送cookies.\n     * [include] 总是发送cookies, 即使来自跨域的请求\n     */\n    credentials: 'include'\n  }\n  const newOptions = { ...defaultOptions, ...options }\n\n  /**\n   * 设置POST请求参数\n   * fetch不会自动转FormData\n   * new一个FormData，直接传给body\n   */\n  const METHOD = options.method && options.method.toUpperCase()\n  if (METHOD === 'POST' || METHOD === 'PUT') {\n    var formData = new FormData()\n    for (const k in newOptions.params) {\n      formData.append(k, newOptions.params[k])\n    }\n    newOptions.body = formData\n  } else {\n    for (const i in newOptions.params) {\n      url += `&${i}=${newOptions.params[i]}`\n    }\n    url = url.replace(/&/, '?')\n  }\n\n  // 发送请求\n  return new Promise((resolve, reject) => {\n    fetch(url, newOptions).then(res => {\n      if (METHOD === 'DELETE' || res.status === 204) {\n        return resolve(res.text())\n      }\n      return resolve(res.json())\n    }).catch(err => {\n      return reject(err)\n    })\n  })\n}\n","import Fetch from '@/common/fetch.js'\n\nexport const queryHome = params => {\n  return new Promise((resolve, reject) => {\n    Fetch(`${process.env.REACT_APP_BASE_URL}/api/queryHome`, {\n      params: params\n    }).then(res => {\n      resolve(res)\n    }).catch(err => {\n      reject(err)\n    })\n  })\n}\n","import React from 'react'\nimport propTypes from 'prop-types'\nimport { observer, inject } from 'mobx-react'\n\nimport { queryHome } from '@/data/api/Home'\nimport './index.scss'\n\n@inject('Common')\n@observer\nclass Home extends React.Component {\n  // propTypes\n  static propTypes = {\n    Common: propTypes.object\n  }\n\n  render () {\n    const { age, name } = this.props.Common.userInfo\n    console.log('MobX[Common]:', name, age)\n    queryHome({\n      name: 'lean',\n      age: 10\n    }).then(res => {\n      console.log(res)\n    }).catch(err => {\n      console.log(err)\n    })\n    return (\n      <div className='Home'>\n        <h3>首页</h3>\n        <div className='content'>\n          首页 - content\n        </div>\n      </div>\n    )\n  }\n}\nexport default Home\n"],"sourceRoot":""}